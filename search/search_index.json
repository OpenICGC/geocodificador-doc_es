{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Geocodificador ICGC","text":"<p>La geocodificaci\u00f3n es el proceso de convertir direcciones postales, nombres de lugar o puntos de inter\u00e9s a coordenadas.</p> <p>El Geocodificador ICGC permite obtener las coordenadas de un lugar ubicado en Catalunya a partir de su direcci\u00f3n postal o de su nombre (top\u00f3nimo). Tambi\u00e9n permite la operaci\u00f3n contraria, la geocodificaci\u00f3 inversa, que consiste en obtener la direcci\u00f3n postal o el nombre del top\u00f3nimo m\u00e1s pr\u00f3ximo a una posici\u00f3n expresada en coordenadas.</p> <p>URL de conexi\u00f3n: https://eines.icgc.cat/geocodificador</p> <p>El Geocodificador ICGC es una interfaz de programaci\u00f3n de aplicaciones web API REST, integrable en otras aplicaciones, de forma que es sencillo a\u00f1adir un b\u00fasquedador de direcciones y/o top\u00f3nimos a un visor de mapas.</p>"},{"location":"#funcionalidades","title":"Funcionalidades","text":"<ul> <li>Localizaci\u00f3n de direcciones postales de los tipos siguientes:<ul> <li>portal (nombre de calle + portal + municipio o llogaret).</li> <li>edificaciones aisladas (nombre de la edificaci\u00f3n aislada + municipio o llogaret).</li> </ul> </li> <li>Localizaci\u00f3n de calles (nombre de calle + municipio o llogaret).</li> <li>Consulta del cuadro envolvente de cada calle obtenida.</li> <li>Localizaci\u00f3n de top\u00f3nimos (nombre + municipio).</li> <li>Geocodificaci\u00f3n inversa para encontrar la direcci\u00f3n o top\u00f3nimo m\u00e1s pr\u00f3ximo a un punto indicado por sus coordenadas.</li> <li>Restringir la b\u00fasqueda en un \u00e1rea geogr\u00e1fica circular o rectangular.</li> <li>Restringir la b\u00fasqueda en una comarca o un municipio.</li> <li>Restringir la b\u00fasqueda a determinados tipos de top\u00f3nimos.</li> <li>Priorizaci\u00f3n de las soluciones m\u00e1s pr\u00f3ximas geogr\u00e1ficamente a un punto dado.</li> <li>Disponibilidad de dos operaciones de geocodificaci\u00f3n directa, que es aconsejable combinar en la integraci\u00f3n en otras aplicaciones:<ul> <li>autocompletar: a medida que el usuario va tecleando el texto a buscar, enviar peticiones a autocompletar, con el fin de encontrar respuestas de forma r\u00e1pida. </li> <li>cerca (b\u00fasqueda completa): devuelve los datos y la ubicaci\u00f3n de una direcci\u00f3n o top\u00f3nimo indicados de forma completa. Una vez se ha completado el texto, si las respuestas proporcionadas por autocompletar no son suficientes, se puede hacer una petici\u00f3n a la operaci\u00f3n cerca al oprimir la tecla [Intro].</li> </ul> </li> </ul> <p>Se recomienda utilizar librer\u00edas cliente que incorporen estas pautas de uso, como Leaflet y el plugin Nextzen (anteriormente Mapzen), como se ha hecho en el Visor ejemplo, implementado con Leaflet y explicado en  Visor de mapas con consultas al servicio Geocodificaci\u00f3 ICGC.</p>"},{"location":"#operaciones","title":"Operaciones","text":"<p>Dispone de las operaciones siguientes:</p> <ul> <li> <p>cerca (geocodificaci\u00f3n directa indicando direcci\u00f3n completa)</p> </li> <li> <p>autocompletar (geocodificaci\u00f3n directa sin necesidad de completar todos los datos de identificaci\u00f3n)</p> </li> <li> <p>invers  (geocodificaci\u00f3n inversa)</p> </li> </ul>"},{"location":"#documentacion","title":"Documentaci\u00f3n","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"#ejemplos","title":"Ejemplos","text":"<ul> <li>1.1 Buscar una direcci\u00f3n postal</li> <li>1.2 Buscar un top\u00f3nimo</li> <li>1.3 Geocodificaci\u00f3n inversa</li> <li>1.4 Obtener el llogaret a la que pertenece una direcci\u00f3n</li> <li>1.5 Buscar una direcci\u00f3n postal seg\u00fan el llogaret</li> <li>1.6 Integraci\u00f3n en un visor Leaflet</li> <li>1.7 Priorizar los resultados m\u00e1s pr\u00f3ximos a un punto</li> <li>1.8 Restringir la b\u00fasqueda dentro de un \u00e1rea geogr\u00e1fica circular o rectangular</li> <li>1.9 Filtrar seg\u00fan tipo de top\u00f3nimo</li> <li>1.10 Filtrar por comarca o por municipio</li> </ul>"},{"location":"#visor","title":"Visor","text":"<p>Visor</p>"},{"location":"documentacio.es/","title":"Documentaci\u00f3n","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"ex_adreca.es/","title":"1.1 Buscar una direcci\u00f3n postal","text":"<p>Hay que indicar la direcci\u00f3n a buscar en el par\u00e1metro text.</p> <p>Por ejemplo, indicando nou 10,girona, obtenemos las coordenadas geogr\u00e1ficas de la direcci\u00f3n postal Carrer Nou 10, Girona: 2.82176174, 41.98273154:  https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona&amp;size=1&amp;layers=address</p> <p>El resultado es:</p> <p></p>"},{"location":"ex_area.es/","title":"1.8 Restringir la b\u00fasqueda dentro de un \u00e1rea geogr\u00e1fica circular o rectangular","text":"<p>En la imagen se muestra la aplicaci\u00f3n Vissir, donde se ha hecho una petici\u00f3n al geocodificador para obtener los top\u00f3nimos que contienen el texto biblioteca con coordenadas dentro del rect\u00e1ngulo indicado.</p> <p>Una petici\u00f3n ejemplo es la siguiente, donde se indican el texto a buscar en el par\u00e1metro text y las coordenadas del rect\u00e1ngulo en los par\u00e1metros boundary.rect.: </p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> <p></p>"},{"location":"ex_comarca_municipi.es/","title":"1.10 Filtrar por comarca o por municipio","text":"<p>Es posible restringir la b\u00fasqueda en una comarca o un municipio, indicando los par\u00e1metros com o mun.</p> <p>El par\u00e1metro com permite especificar el nombre de la comarca o su identificador. Se puede consultar el listado de comarcas en Tabla de comarcas</p> <p>El par\u00e1metro mun permite especificar el nombre del municipio o su identificador. Se puede consultar el listado de municipios en Tabla de municipios</p> <p>Por ejemplo, la petici\u00f3n https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona busca bibliotecas del municipio de Girona</p> <p>y la petici\u00f3n https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones busca bibliotecas de la comarca del Giron\u00e8s</p>"},{"location":"ex_invers.es/","title":"1.3 Geocodificaci\u00f3 inversa","text":"<p>Para encontrar las direcciones y top\u00f3nimos m\u00e1s pr\u00f3ximos a un punto, hay que indicar sus coordenadas geogr\u00e1ficas en los par\u00e1metros lon y lat.</p> <p>Por ejemplo, indicando las coordenadas 2.82176174, 41.98273154, obtenemos la direcci\u00f3n postal Carrer Nou 10, Girona: https://eines.icgc.cat/geocodificador/invers?lon=2.82176174&amp;lat=41.98273154&amp;size=1&amp;layers=address</p> <p>El resultado es:</p> <p></p>"},{"location":"ex_llogaret1.es/","title":"1.4 Obtener el llogaret al que pertenece una direcci\u00f3n","text":"<p>Al buscar una direcci\u00f3n postal, podemos obtener el llogaret o n\u00facleo de poblaci\u00f3n al que pertenece. Esta informaci\u00f3n aparece en el campo llogaret y al final del campo label, entre par\u00e9ntesis.</p> <p>Por ejemplo, al buscar la direcci\u00f3n carrer de l'esglesia 1,la vall de boi, obtenemos los 3 portales que hay en los n\u00facleos de poblaci\u00f3n de Durro, Barruera y Ta\u00fcll, pertenecientes al municipio la Vall de Bo\u00ed. https://eines.icgc.cat/geocodificador/autocompletar?text=carre%20de%20l%27esglesia%201,la%20vall%20de%20boi&amp;layers=address&amp;size=6</p> <p></p> <p>La respuesta es:</p> <p></p>"},{"location":"ex_llogaret2.es/","title":"1.5 Buscar una direcci\u00f3n postal seg\u00fan el llogaret","text":"<p>Es posible indicar el nombre del llogaret en la petici\u00f3n, en lugar del nombre de municipio. </p> <p>Por ejemplo, indicando carrer de l'esglesia 1,durro, restringimos la b\u00fasqueda al portal 1 de la calle Esgl\u00e9sia de Durro, del municipio la Vall de Bo\u00ed:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=carrer%20de%20l%27esglesia%201,durro&amp;layers=address </p> <p>La respuesta es :</p> <p></p>"},{"location":"ex_prioritzar.es/","title":"1.7 Priorizar los resultados m\u00e1s pr\u00f3ximos a un punto","text":"<p>En el visor anterior https://eines.icgc.cat/geocodificador_visor/  se puede activar la casilla de priorizaci\u00f3n de los resultados m\u00e1s pr\u00f3ximos al centro del mapa, de forma que, si el mapa est\u00e1 centrado en el municipio de Girona, al teclear Biblioteca nos aparecen bibliotecas de Girona.</p> <p>Un ejemplo de petici\u00f3n es el siguiente, donde se indican las coordenadas del punto central del mapa en los par\u00e1metros focus.point.lat y focus.point.lon: https://eines.icgc.cat/geocodificador/autocompletar?text=bibli&amp;focus.point.lat=41.430371882652814&amp;focus.point.lon=1.8539428710937502&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5, donde se indica el texto a buscar y el punto por el que se quieren priorizar las respuestas</p> <p></p>"},{"location":"ex_tipus.es/","title":"1.9 Filtrar seg\u00fan tipo de top\u00f3nimo","text":"<p>Es posible indicar los tipos de top\u00f3nimos a buscar.</p> <p>Por ejemplo, la petici\u00f3n siguiente busca top\u00f3nimos con el texto aliga y de tipo Cim: http://eines.icgc.cat/geocodificador/autocompletar?texto=aliga&amp;layers=topo_tipo_08&amp;size=3 .</p> <p>Como se ve en el ejemplo, el tipo de top\u00f3nimo Cim tiene el identificador topo_tipus_08.</p> <p>La tabla con los tipos de top\u00f3nimo y sus identificadores se puede consultar en Tabla top\u00f3nimos</p>"},{"location":"ex_toponim.es/","title":"1.2 Buscar un top\u00f3nimo","text":"<p>Hay que indicar el top\u00f3nimo a buscar en el par\u00e1metro texto.</p> <p>Por ejemplo, indicando can massot,fornells, obtenemos las coordenadas geogr\u00e1ficas del top\u00f3nimo Can Massot, Fornells de la Selva: 2.79217122, 41.92888483: https://eines.icgc.cat/geocodificador/autocompletar?text=*can%C2%A0massot,fornells&amp;layers=tops&amp;size=1</p> <p>El resultado es:</p> <p></p>"},{"location":"ex_visor.es/","title":"1.6 Integraci\u00f3n en un visor Leaflet","text":"<p>En la imagen siguiente se muestra el visor https://eines.icgc.cat/geocodificador_visor/, implementado con Leaflet, que contiene un buscador de direcciones y top\u00f3nimos en que a medida que el usuario va tecleando el texto a buscar, se env\u00edan peticiones al servicio de geocodificaci\u00f3n, hasta encontrar el elemento deseado y su ubicaci\u00f3n en el mapa.</p> <p>Las peticiones enviadas utilizan la operaci\u00f3n autocompletar con el par\u00e1metro text conteniendo el texto introducido por el usuario. </p> <p>Un ejemplo de estas peticiones es https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p> <p>En Visor con consultas al servicio Geocodificaci\u00f3n ICGC se explica en detalle c\u00f3mo acceder al visor y su implementaci\u00f3n.</p> <p></p>"},{"location":"parametres_autocompletar.es/","title":"B\u00fasqueda autocompletar","text":"<p>URL de conexi\u00f3n: https://eines.icgc.cat/geocodificador/autocompletar (GET)</p>"},{"location":"parametres_autocompletar.es/#descripcion","title":"Descripci\u00f3n","text":"<p>La operaci\u00f3n autocompletar obtiene los datos y la ubicaci\u00f3n de una direcci\u00f3n o top\u00f3nimo sin necesidad de completar todos los datos de identificaci\u00f3n: a medida que se va introduciendo el texto en la caja de b\u00fasqueda, se env\u00edan peticiones a autocompletar, con el fin de encontrar respuestas de forma r\u00e1pida.</p> <p>Es imprescindible indicar el texto a buscar en el par\u00e1metro text.</p> <p>El resultado se obtiene en formato GeoJSON.</p> <p>En la integraci\u00f3n en otras aplicaciones, se recomienda combinar autocompletar y cerca:</p> <ul> <li>a medida que el usuario va tecleando el texto a buscar, enviar peticiones a autocompletar , con el fin de encontrar respuestas de forma r\u00e1pida. </li> <li>una vez se ha completado el texto, si las respuestas proporcionadas por autocompletar no son suficientes, se puede pulsar la tecla [Intro] y hacer una petici\u00f3n a la operaci\u00f3n de b\u00fasqueda completa.</li> </ul> <p>Dado que las peticiones a autocompletar generalmente responden directamente a la entrada de texto por parte del usuario, hay que tener en cuenta la velocidad de escritura con el objetivo de no colapsar las peticiones. </p> <p>Tambi\u00e9n es necesario tener en cuenta que las respuestas pueden ser as\u00edncronas y no ser respondidas en el mismo orden en que se enviaron.</p> <p>Para buscar las coordenadas correspondientes al top\u00f3nimo can masso,barcelona podemos hacer la petici\u00f3n https://eines.icgc.cat/geocodificador/autocompletar?text=can%20masso,barcelona&amp;layers=tops&amp;size=1, que tiene la respuesta: </p>"},{"location":"parametres_autocompletar.es/#construccion-de-la-consulta","title":"Construcci\u00f3n de la consulta","text":"<p>La petici\u00f3n al API se construye a partir de la URL https://eines.icgc.cat/geocodificador/autocompletar, seguida del signo\u00a0?\u00a0y\u00a0de la secuencia de par\u00e1metros, separados por el signo\u00a0&amp;.</p> <p>Los par\u00e1metros son los siguientes:</p> <ul> <li> <p>text:\u00a0contiene el texto a buscar. Es un par\u00e1metro obligatorio.</p> <p>Es importante tener en cuenta que hay que separar el nombre del municipio con una coma, de la manera siguiente: <ul> <li> <p>nombre_de_calle portal, municipio <li> <p>nombre_edificaci\u00f3n_aislada, municipio <li> <p>nombre_top\u00f3nimo, municipio <p>Ejemplos:\u00a0</p> <ul> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=can riera,Vilademuls&amp;layers=address</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=montclar,riudecanyes</p> </li> </ul> <li> <p>layers: se utiliza para filtrar los tipos de elemento a buscar </p> <p>Se pueden diferenciar los tipos de datos a buscar indicando el par\u00e1metro layers, con los valores siguientes:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: direcciones postales</p> <p>. tops: todos los top\u00f3nimos</p> <p>.\u00a0topo_tipo_id: top\u00f3nimos del tipo id, donde id es una cadena con n\u00fameros entre 1 y 22, con el 0 a la izquierda por los menores de 10. Por ejemplo:\u00a0topo_tipo_01 para buscar\u00a0Capitales de municipio. La tabla con los tipos de top\u00f3nimo y sus identificadores se puede consultar en\u00a0Tabla top\u00f3nimos</p> <p>Se pueden indicar los valores siguientes para segregar los top\u00f3nimos en dos grupos:</p> <p>.\u00a0topo1: top\u00f3nimos referentes a agrupaciones de poblaci\u00f3n (municipios, capitales de municipio, entidades de poblaci\u00f3n, diseminados y barrios)</p> <p>.\u00a0topo2: resto de top\u00f3nimos.</p> <p>Por ejemplo, para encontrar top\u00f3nimos con el nombre Riera de Gai\u00e0:\u00a0https://herramientas.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> </li> <li> <p>size: se utiliza para definir el n\u00famero m\u00e1ximo de resultados</p> <p>Por defecto, se devuelven hasta 10 resultados de cada uno de los tipos indicados en layers. Se puede indicar un n\u00famero diferente con el par\u00e1metro\u00a0size. El valor m\u00e1ximo es 40.</p> <p>Por ejemplo, para encontrar\u00a0un \u00fanico top\u00f3nimo:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> </li> <li> <p>boundary.rect.min_lon,\u00a0boundary.rect.min_lato,\u00a0boundary.rect.max_lon y\u00a0boundary.rect.max_lato: para buscar en un \u00e1rea rectangular</p> <p>Se puede limitar espacialmente la b\u00fasqueda indicando las coordenadas latitud y longitud de un rect\u00e1ngulo con estos par\u00e1metros.</p> <p>Ejemplo:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> </li> <li> <p>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius: para buscar en un \u00e1rea circular</p> <p>Se puede limitar espacialmente la b\u00fasqueda indicando las coordenadas de un c\u00edrculo con los par\u00e1metros\u00a0boundary.circle.lon y\u00a0boundary.circle.lat\u00a0 (coordenada central de referencia) y el par\u00e1metro\u00a0boundary.circle.radius\u00a0(radio en km).</p> <p>Ejemplo:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3</p> </li> <li> <p>focus.point.lat,\u00a0focus.point.lon: priorizaci\u00f3n de resultados por proximidad</p> <p>Para priorizar los resultados m\u00e1s pr\u00f3ximos a unas coordenadas podemos indicarlas con estos par\u00e1metros.</p> <p>Ejemplo:\u00a0#http://localhost:3300/autocompletar?texto=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5</p> </li> <li> <p>com: para filtrar por comarca</p> <p>El par\u00e1metro com\u00a0permite especificar el nombre de la comarca o su identificador.\u00a0</p> <p>Se puede consultar el listado de comarcas en Tabla de comarcas</p> <p>Ejemplos:\u00a0</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones (indicando el nombre de comarca)</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=20\u00a0\u00a0(indicando identificador de comarca)</p> </li> <li> <p>mun: para filtrar por municipio</p> <p>El par\u00e1metro mun\u00a0permite especificar el nombre del municipio o su identificador.\u00a0</p> <p>Se puede consultar el listado de municipios en\u00a0Tabla de municipios</p> <p>Ejemplos:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona\u00a0 (indicando el nombre de municipio)</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=170792 (indicando identificador de municipio)</p> </li>"},{"location":"parametres_autocompletar.es/#parametros-de-entrada","title":"Par\u00e1metros de entrada","text":"Par\u00e1metro Tipo Obligatorio Descripci\u00f3n Valor por defecto Ejemplo text cadena de texto Si Texto a buscar Riera de Sallent focus.point.lat n\u00famero de punto flotante No Latitud del punto por el que se quieren priorizar los resultados 41.430371882652814 focus.point.lon n\u00famero de punto flotante No Longitud del punto por el que se quieren priorizar los resultados 1.8566894531250002 layers cadena de texto No Tipo de elementos a buscar: [address, tops, topo_tipo_id, topo1, topo2] topo1,topo2,address address,topo1 size entero No N\u00famero de resultados. El m\u00e1ximo es 40 10 5 com cadena de texto No Identificador de una comarca, dentro de la que se quiere restringir la b\u00fasqueda 01 mun cadena de texto No Identificador de un municipio, dentro del que se quiere restringir la b\u00fasqueda 080018 boundary.circle.lat n\u00famero de punto flotante No Latitud del punto del c\u00edrculo de b\u00fasqueda 41.430371882652814 boundary.circle.lon n\u00famero de punto flotante No Longitud del punto del c\u00edrculo de b\u00fasqueda 2.81233 boundary.circle.radius n\u00famero de punto flotante No Radio del c\u00edrculo de b\u00fasqueda (km) 10 boundary.rect.min_lat n\u00famero de punto flotante No Latitud del extremo inferior del rect\u00e1ngulo de b\u00fasqueda 41.909303728668824 boundary.rect.min_lon n\u00famero de punto flotante No Longitud del extremo inferior del rect\u00e1ngulo de b\u00fasqueda 2.694053649902344 boundary.rect.max_lat n\u00famero de punto flotante No Latitud del extremo superior del rect\u00e1ngulo de b\u00fasqueda 42.01142264969458 boundary.rect.max_lon n\u00famero de punto flotante No Longitud del extremo superior del rect\u00e1ngulo de b\u00fasqueda 2.911033630371094"},{"location":"parametres_autocompletar.es/#parametros-de-salida","title":"Par\u00e1metros de salida","text":"<p>Se devuelven los resultados en formato GeoJSON.</p> <p>El elemento features.properties tiene los campos descritos en la tabla siguiente:</p> Campo Descripci\u00f3n Aplicacble a los elementos layer Tipos de elemento encontrado.Los valores posibles son los indicados al par\u00e1metro layers de entrada Todos etiqueta Agregaci\u00f3n de campos. Por direcciones: calle portal, municipio (llogaret). Nota: Si el llogaret coincide con el municipio, no se indica. Por top\u00f3nimos: top\u00f3nimo, municipio Todos municipo Municipio. En algunos top\u00f3nimos , no hay un municipio asignado y toma el valor \"-\" Todos comarca Comarca. En algunos top\u00f3nimos , no hay una comarca asignada y toma el valor \"-\" Direcciones llogaret llogaret Direcciones portal Portal de la direcci\u00f3n Direcciones nom Nombre de la calle, de la edificaci\u00f3n aislada o de top\u00f3nimo Todos codi_postal C\u00f3digo postal Direcciones addendum.origen Escala origen Top\u00f3nimos addendum.zoom Nivel de zoom \u00f3ptimo Top\u00f3nimos addendum.tipus Tipo de top\u00f3nimo Top\u00f3nimos addendum.id_tipus Identificador tipo de  top\u00f3nimo Top\u00f3nimos addendum.municipios_extra Resto de municipios asignados Top\u00f3nimos addendum.bbox Coordenadas geogr\u00e1ficas del rect\u00e1ngulo contenedor de la calle Direcciones addendum.bbox_utm Coordenadas UTM del rect\u00e1ngulo contenedor de la calle Direcciones"},{"location":"parametres_autocompletar.es/#ejemplos-de-salida-segun-tipo-de-layer","title":"Ejemplos de salida seg\u00fan tipo de layer","text":"Direcci\u00f3n postal https://eines.icgc.cat/geocodificador/autocompletar?text=nou%2010%20girona&amp;layers=address&amp;size=1 Top\u00f3nimo https://eines.icgc.cat/geocodificador/autocompletar?text=barranc%20de%20Barball&amp;layers=tops&amp;size=1"},{"location":"parametres_cerca.es/","title":"B\u00fasqueda indicando la direcci\u00f3n completa","text":"<p>URL de conexi\u00f3n: https://eines.icgc.cat/geocodificador/cerca (GET)</p>"},{"location":"parametres_cerca.es/#descripcion","title":"Descripci\u00f3n","text":"<p>La operaci\u00f3n cerca (Geocodificaci\u00f3n directa o b\u00fasqueda completa) devuelve los datos y la ubicaci\u00f3n de una direcci\u00f3n o top\u00f3nimo, indicados de forma completa.</p> <p>Es imprescindible indicar el texto a buscar en el par\u00e1metro text.</p> <p>El resultado se obtiene en formato GeoJSON.</p> <p>Por ejemplo, para buscar las coordenadas correspondientes a la direcci\u00f3n carrer nou 10,girona, podemos hacer la petici\u00f3n https://eines.icgc.cat/geocodificador/cerca?text=carrer nou 10,girona&amp;layers=address&amp;size=1, que tiene la respuesta: </p>"},{"location":"parametres_cerca.es/#construccion-de-la-consulta","title":"Construcci\u00f3n de la consulta","text":"<p>La petici\u00f3n al API se construye a partir de la URL https://eines.icgc.cat/geocodificador/cerca, seguida del signo\u00a0?\u00a0y\u00a0de la secuencia de par\u00e1metros, separados por el signo\u00a0&amp;.</p> <p>Los par\u00e1metros son los siguientes:</p> <ul> <li> <p>text:\u00a0contiene el texto a buscar. Es un par\u00e1metro obligatorio.</p> <p>Es importante tener en cuenta que, en el caso de b\u00fasqueda de direcciones postales, hay que separar el nombre del municipio o del llogaret con una coma, de la manera siguiente: <ul> <li> <p>nombre_de_calle portal, municipio/llogaret <li> <p>nombre_edificaci\u00f3n_aislada, municipio/llogaret <li> <p>nombre_top\u00f3nimo, municipio <p>Ejemplos:\u00a0</p> <ul> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=nou 10,girona&amp;layers=address</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=can riera,Vilademuls&amp;layers=topo2</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=montclar,riudecanyes&amp;layers=topo1</p> </li> </ul> <li> <p>layers: se utiliza para filtrar los tipos de elemento a buscar </p> <p>Se pueden diferenciar los tipos de datos a buscar indicando el par\u00e1metro layers, con los valores siguientes:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: direcciones postales</p> <p>. tops: todos los top\u00f3nimos</p> <p>.\u00a0topo_tipo_id: top\u00f3nimos del tipo id, donde id es una cadena con n\u00fameros entre 1 y 22, con el 0 a la izquierda por los menores de 10. Por ejemplo:\u00a0topo_tipo_01* para buscar\u00a0Capitales de municipio. La tabla con los tipos de top\u00f3nimo y sus identificadores se puede consultar en\u00a0Tabla top\u00f3nimos</p> <p>Se pueden indicar los valores siguientes para segregar los top\u00f3nimos en dos grupos:</p> <p>.\u00a0topo1: top\u00f3nimos referentes a agrupaciones de poblaci\u00f3n (municipios, capitales de municipio, entidades de poblaci\u00f3n, diseminados y barrios)</p> <p>.\u00a0topo2: resto de top\u00f3nimos.</p> <p>Ejemplo, para encontrar top\u00f3nimos con el nombre Riera de Gai\u00e0:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> </li> <li> <p>size: se utiliza para definir el n\u00famero m\u00e1ximo de resultados</p> <p>Por defecto, se devuelven hasta 10 resultados de cada uno de los tipos indicados en layers. Se puede indicar un n\u00famero diferente con el par\u00e1metro\u00a0size. El valor m\u00e1ximo es 40.</p> <p>Por ejemplo, para encontrar\u00a0un \u00fanico top\u00f3nimo:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> </li> <li> <p>boundary.rect.min_lon,\u00a0boundary.rect.min_lat,\u00a0boundary.rect.max_lon y\u00a0boundary.rect.max_lat: para buscar en un \u00e1rea rectangular</p> <p>Se puede limitar espacialmente la b\u00fasqueda indicando las coordenadas latitud y longitud de un rect\u00e1ngulo con estos par\u00e1metros.</p> <p>Ejemplo:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> </li> <li> <p>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius: para buscar en un \u00e1rea circular</p> <p>Se puede limitar espacialmente la b\u00fasqueda indicando las coordenadas de un c\u00edrculo con los par\u00e1metros\u00a0boundary.circle.lon y\u00a0boundary.circle.lat\u00a0 (coordenada central de referencia) y el par\u00e1metro\u00a0boundary.circle.radius\u00a0(radio en km).</p> <p>Ejemplo:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3</p> </li> <li> <p>focus.point.lat,\u00a0focus.point.lon: priorizaci\u00f3n de resultados por proximidad</p> <p>Para priorizar los resultados m\u00e1s pr\u00f3ximos a unas coordenadas podemos indicarlas con estos par\u00e1metros.</p> <p>Ejemplo:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5</p> </li> <li> <p>com: para filtrar por comarca</p> <p>El par\u00e1metro com\u00a0permite especificar el nombre de la comarca o su identificador.\u00a0</p> <p>Se puede consultar el listado de comarcas en Tabla de comarcas</p> <p>Ejemplos:\u00a0</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=girones (indicando el nombre de comarca)</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=20\u00a0\u00a0(indicando identificador de comarca)</p> </li> <li> <p>mun: para filtrar por municipio</p> <p>El par\u00e1metro mun\u00a0permite especificar el nombre del municipio o su identificador.\u00a0</p> <p>Se puede consultar el listado de municipios en\u00a0Tabla de municipios</p> <p>Ejemplos:</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=girona\u00a0 (indicando el nombre de municipio)</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=170792 (indicando identificador de municipio)</p> </li>"},{"location":"parametres_cerca.es/#parametros-de-entrada","title":"Par\u00e1metros de entrada","text":"Par\u00e1metro Tipo Obligatorio Descripci\u00f3n Valor por defecto Ejemplo text cadena de texto Si Texto a buscar Riera de Sallent focus.point.lat n\u00famero de punto flotante No Latitud del punto por el que se quieren priorizar los resultados 41.430371882652814 focus.point.lon n\u00famero de punto flotante No Longitud del punto por el que se quieren priorizar los resultados 1.8566894531250002 layers cadena de texto No Tipo de elementos a buscar: [address, tops, topo_tipo_id, topo1, topo2] topo1,topo2,address address,topo1 size entero No N\u00famero de resultados. El m\u00e1ximo es 40 10 5 com cadena de texto No Identificador de una comarca, dentro de la que se quiere restringir la b\u00fasqueda 01 mun cadena de texto No Identificador de un municipio, dentro de la que se quiere restringir la b\u00fasqueda 080018 boundary.circle.lat n\u00famero de punto flotante No Latitud del punto del c\u00edrculo de b\u00fasqueda 41.430371882652814 boundary.circle.lon n\u00famero de punto flotante No Longitud  del punto del c\u00edrculo de b\u00fasqueda 2.81233 boundary.circle.radius n\u00famero de punto flotante No radio del c\u00edrculo de b\u00fasqueda (km) 10 boundary.rect.min_lat n\u00famero de punto flotante No Latitud del extremo inferior del rect\u00e1ngulo de b\u00fasqueda 41.909303728668824 boundary.rect.min_lon n\u00famero de punto flotante No Longitud del extremo inferior del rect\u00e1ngulo de b\u00fasqueda 2.694053649902344 boundary.rect.max_lat n\u00famero de punto flotante No Latitud del extremo superior del rect\u00e1ngulo de b\u00fasqueda 42.01142264969458 boundary.rect.max_lon n\u00famero de punto flotante No Longitud del extremo superior del rect\u00e1ngulo de b\u00fasqueda 2.911033630371094"},{"location":"parametres_cerca.es/#parametros-de-salida","title":"Par\u00e1metros de salida","text":"<p>Se devuelven los resultados en formato GeoJSON.</p> <p>El elemento features.properties tiene los campos descritos en la tabla siguiente:</p> Campo Descripci\u00f3n Aplicacble a los elementos layer Tipo de elemento encontrado.Los valores posibles son los indicados en el par\u00e1metro layers de entrada Todos etiqueta Agregaci\u00f3n de campos. Para direcciones: calle portal, municipio (llogaret). Nota: Si el llogaret coincide con el municipio, no se indica. Par top\u00f3nimos: top\u00f3nimo, municipio Todos municipi Municipio. En algunos top\u00f3nimos, no hay un municipio asignado y toma el valor \"-\" Todos comarca Comarca. En algunos top\u00f3nimos, no hay una comarca asignada y toma el valor \"-\" Direcciones llogaret llogaret Direcciones portal Portal de la direcci\u00f3n Direcciones nom Nombre de la calle, de la edificaci\u00f3n aislada o del top\u00f3nimo Todos codi_postal C\u00f3digo postal Direcciones distancia Distancia en kil\u00f3metros al punto indicado con los campos focus.point.lat, focus.point.lon Todos addendum.origen Escala origen Top\u00f3nimos addendum.zoom Nivel de zoom \u00f3ptimo Top\u00f3nimos addendum.tipus Tipo de top\u00f3nimo Top\u00f3nimos addendum.id_tipus Identificador tipo de top\u00f3nimo Top\u00f3nimos addendum.municipis_extra Resto de municipios asignados Top\u00f3nimos addendum.bbox Coordenadas geogr\u00e1ficas del rect\u00e1ngulo contenedor de la calle Direcciones addendum.bbox_utm Coordenadas UTM del rect\u00e1ngulo contenedor de la calle Direcciones"},{"location":"parametres_cerca.es/#ejemplos-de-salida-segun-tipo-de-layer","title":"Ejemplos de salida seg\u00fan tipo de layer","text":"Direcci\u00f3n postal https://eines.icgc.cat/geocodificador/cerca?text=nou%2010%20girona&amp;layers=address&amp;size=1 Top\u00f3nimo https://eines.icgc.cat/geocodificador/cerca?text=barranc%20de%20Barball&amp;layers=tops&amp;size=1"},{"location":"parametres_invers.es/","title":"B\u00fasqueda inversa","text":"<p>URL de conexi\u00f3n: https://eines.icgc.cat/geocodificador/invers (GET)</p>"},{"location":"parametres_invers.es/#descripcion","title":"Descripci\u00f3n","text":"<p>La operaci\u00f3n invers (geocodificaci\u00f3n inversa) busca las direcciones y top\u00f3nimos m\u00e1s pr\u00f3ximos a un punto geogr\u00e1fico determinado, especificado por su latitud y longitud.</p> <p>El resultado se obtiene en formato GeoJSON.</p> <p>Por ejemplo, para buscar la direcci\u00f3n m\u00e1s pr\u00f3xima a las coordenadas 41.385965, 2.16687, podemos hacer la petici\u00f3n https://eines.icgc.cat/geocodificador/invers?lat=41.385965&amp;lon=2.16687&amp;size=1&amp;layers=address, que tiene la respuesta: </p>"},{"location":"parametres_invers.es/#construccion-de-la-consulta","title":"Construcci\u00f3n de la consulta","text":"<p>La petici\u00f3n al API se construye a partir de la URL https://eines.icgc.cat/geocodificador/invers, seguida del signo\u00a0?\u00a0y\u00a0de la secuencia de par\u00e1metros, separados por el signo\u00a0&amp;.</p> <p>Los par\u00e1metros son los siguientes:</p> <ul> <li> <p>lon, lat: son obligatorios y contienen las coordenadas del punto geogr\u00e1fico alrededor del cual se quiere hacer la b\u00fasqueda.</p> <p>Ejemplo:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206 </p> </li> <li> <p>boundary.circle.radius: indica el radio del c\u00edrculo de b\u00fasqueda (en km).</p> <p>Ejemplo: http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=10&amp;boundary.circle.radius=0.4</p> </li> <li> <p>layers: se utiliza para filtrar los tipos de elemento a buscar </p> <p>Se pueden diferenciar los tipos de datos a buscar indicando el par\u00e1metro layers, con los valores siguientes:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: direcciones postales</p> <p>. tops: todos los top\u00f3nimos</p> <p>.\u00a0topo_tipo_id: top\u00f3nimos del tipo id, donde id es una cadena con n\u00fameros entre 1 y 22, con el 0 a la izquierda por los menores de 10. Por ejemplo:\u00a0topo_tipo_01* para buscar\u00a0Capitales de municipio. La tabla con los tipos de top\u00f3nimo y sus identificadores se puede consultar en\u00a0Tabla top\u00f3nimos</p> <p>Se pueden indicar los valores siguientes para segregar los top\u00f3nimos en dos grupos:</p> <p>.\u00a0topo1: top\u00f3nimos referentes a agrupaciones de poblaci\u00f3n (municipios, capitales de municipio, entidades de poblaci\u00f3n, diseminados y barrios)</p> <p>.\u00a0topo2: resto de top\u00f3nimos.</p> <p>Ejemplo, para encontrar top\u00f3nimos: http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops</p> </li> <li> <p>size: se utiliza para definir el n\u00famero m\u00e1ximo de resultados</p> <p>Por defecto, se devuelven hasta 10 resultados de cada uno de los tipos indicados en layers. Se puede indicar un n\u00famero diferente con el par\u00e1metro\u00a0size. El valor m\u00e1ximo es 40.</p> <p>Por ejemplo, para encontrar\u00a0un \u00fanico top\u00f3nimo:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1</p> </li> <li> <p>com: para filtrar por comarca</p> <p>Permite especificar el nombre de la comarca o su identificador.\u00a0</p> <p>Se puede consultar el listado de comarcas en Tabla de comarcas</p> <p>Ejemplos:\u00a0  https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=barcelones    (indicando el nombre de comarca)</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=13   (indicando identificador de comarca)</p> </li> <li> <p>mun: para filtrar por municipio</p> <p>Permite especificar el nombre del municipio o su identificador.\u00a0</p> <p>Se puede consultar el listado de municipios en\u00a0Tabla de municipios</p> <p>Ejemplos:</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=barcelona\u00a0 (indicando el nombre de municipio)</p> <p> https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=080193 (indicando identificador de municipio)</p> </li> </ul>"},{"location":"parametres_invers.es/#parametros-de-entrada","title":"Par\u00e1metros de entrada","text":"Par\u00e1metro Tipo Obligatorio Descripci\u00f3n Valor por defecto Ejemplo lat n\u00famero de punto flotante Si latitud 41.385965 lon n\u00famero de punto flotante Si longitud boundary.circle.radius n\u00famero de punto flotante No radio del c\u00edrculo de b\u00fasqueda (km) 1 0.5 layers cadena de texto No Tipo de elementos a buscar: [address, tops, topo_tipo_id, topo1, topo2] topo1,topo2,address address,topo1 size entero No N\u00famero de resultados. El m\u00e1ximo es 40 10 5 com cadena de texto No Identificador de una comarca, dentro de la que quiere restringir la b\u00fasqueda cabe 01 mun cadena de texto No Identificador de un municipio, dentro de la que quiere restringir la b\u00fasqueda cabe 080018"},{"location":"parametres_invers.es/#parametros-de-salida","title":"Par\u00e1metros de salida","text":"<p>Se devuelven los resultados en formato GeoJSON.</p> <p>El elemento features.properties tiene los campos descritos en la tabla siguiente:</p> Campo Descripci\u00f3n Aplicacble a los elementos layer Tipos de elemento encontrado. Los valores posibles son los indicados en el par\u00e1metro layers de entrada Todos distancia Distancia en kil\u00f3metros del elemento encontrado al punto indicado Todos etiqueta Agregaci\u00f3n de campos. Por direcciones: calle portal, municipio (llogaret). Nota: Si el llogaret coincide con el municipio, no se indica. Por top\u00f3nimos: top\u00f3nimo, municipio Todos municipi Municipio. En algunos top\u00f3nimos , no hay un municipio asignado y toma el valor \"-\" Todos comarca Comarca. En algunos top\u00f3nimos , no hay una comarca asignada y toma el valor \"-\" Direcciones llogaret llogaret Direcciones portal Portal de la direcci\u00f3n Direcciones nom Nombre de la calle, de la edificaci\u00f3n aislada o de top\u00f3nimo Todos codi_postal C\u00f3digo postal Direcciones addendum.origen Escala origen Top\u00f3nimos addendum.zoom Nivel de zoom \u00f3ptimo Top\u00f3nimos addendum.tipus Tipo de top\u00f3nimo Top\u00f3nimos addendum.id_tipus Identificador tipo de  top\u00f3nimo Top\u00f3nimos addendum.municipis_extra Resto de municipios asignados Top\u00f3nimos addendum.bbox Coordenadas geogr\u00e1ficas del rect\u00e1ngulo contenedor de la calle Direcciones addendum.bbox_utm Coordenadas UTM del rect\u00e1ngulo contenedor de la calle Direcciones"},{"location":"parametres_invers.es/#ejemplos-de-salida-segun-tipo-de-layer","title":"Ejemplos de salida seg\u00fan tipo de layer","text":"Direcci\u00f3n postal https://eines.icgc.cat/geocodificador/invers?lon=2.13798&amp;lat=41.4271&amp;layers=address&amp;size=1 Top\u00f3nimo https://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1"},{"location":"tipusToponims.es/","title":"Tipo de top\u00f3nimos","text":"<p>La tabla muestra los diferentes tipos de top\u00f3nimos, que se pueden indicar para filtrar los resultados. </p> <p>M\u00e1s informaci\u00f3n en Filtrar seg\u00fan tipo de top\u00f3nimo</p> ID Tipo Concepto 01 Cap de municipi Capital de municipio 02 Municipi Municipio (solo cuando el nombre no coincide con el de su capital) 03 Entitat de poblaci\u00f3 Entidad de poblaci\u00f3n 04 Edificaci\u00f3 Edificaci\u00f3n aislada 06 Mass\u00eds, Serra Macizo, Sierra 07 Orografia Relieve y orograf\u00eda (llanura, valle...) 08 Cim Cumbre, pico, monte 10 Relleu del Litoral Relieve litoral (cabo, punta...) 11 Indret Lugar, paraje 12 Equipament Equipamiento, instalaci\u00f3n, servicio 13 Comunicacions Comunicaciones (aeropuerto, t\u00fanel...) 14 Xarxa Hidrogr\u00e0fica Red hidrogr\u00e1fica (r\u00edo, riera, torrente...) 15 Element Hidrogr\u00e0fic Elementos hidrogr\u00e1ficos (pantano, cala...) 16 Barri Barrio urbano (solo en n\u00facleos de m\u00e1s de 50 000 habitantes) 17 Comarca Comarca 20 Edificaci\u00f3 Hist\u00f2rica Edificio de valor hist\u00f3rico o arquitect\u00f3nico (ermita, castillo...) 22 Disseminat Entidad de poblaci\u00f3n diseminada"},{"location":"versions/","title":"Versiones","text":"Versi\u00f3n Descripci\u00f3n Fecha 2.0 Incorporaci\u00f3n de datos de portales (direcciones asociadas a calles con n\u00famero) 01/2023 2.1 Incorporaci\u00f3n de datos de top\u00f3nimos 02/2023 2.2 Subidas a producci\u00f3n autom\u00e1ticas 06/2023 2.3 Estandarizaci\u00f3n a API OAS3 (swagger y documentaci\u00f3n) 07/2023 2.4 A\u00f1adir filtro por tipo de top\u00f3nimo 11/2023 2.5 A\u00f1adir filtro por comarca y municipio 12/2023 2.6 Mejora en filtro del municipio seleccionado 12/2023 2.7 Ordenaci\u00f3n de resultados seg\u00fan capa layer 12/2023 2.8 Mejorar autocompletar direcciones 01/2024 2.9 Mejorar b\u00fasqueda directa direcciones (m\u00faltiples peticiones) 01/2024 2.10 Mejorar ordenaci\u00f3n de resultados 02/2024 2.11 Incorporaci\u00f3n de datos de 'llogarets' y BBOX de cada calle 03/2024 2.12 Incorporaci\u00f3n de datos de edificaciones aisladas 04/2024 2.13 Cambios en la priorizaci\u00f3n de resultados 06/2024"},{"location":"visor.es/","title":"1.6 Visor de mapas con consultas al Geocodificador ICGC","text":"<p>El visor https://eines.icgc.cat/geocodificador_visor/ es un ejemplo de uso del geocodificador ICGC, con peticiones de geocodificaci\u00f3 directa e inversa.</p> <p></p>"},{"location":"visor.es/#geocodificacion-directa","title":"Geocodificaci\u00f3n directa","text":"<p>Contiene un buscador de direcciones y top\u00f3nimos: a medida que el usuario va tecleando el texto a buscar, se env\u00edan peticiones al servicio de geocodificaci\u00f3 directa, hasta encontrar el elemento deseado y su ubicaci\u00f3n en el mapa.</p> <p> </p> <p>Las peticiones enviadas utilizan la operaci\u00f3n autocompletar con el par\u00e1metro text conteniendo el texto introducido por el usuario. </p> <p>Un ejemplo de estas peticiones es https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p>"},{"location":"visor.es/#geocodificacion-inversa","title":"Geocodificaci\u00f3n inversa","text":"<p>Al hacer clic sobre el mapa, se hace una petici\u00f3n de geocodificaci\u00f3 inversa, obteniendo la direcci\u00f3n postal y el top\u00f3nimo m\u00e1s pr\u00f3ximos al punto indicado en un radio de 500 metros.</p> <p> </p> <p>Las peticiones enviadas utilizan la operaci\u00f3n invers con los par\u00e1metros lon y lat conteniendo el punto marcado por el usuario. </p> <p>Un ejemplo de estas peticiones es https://eines.icgc.cat/geocodificador/invers?lat=41.81623479875584&amp;lon=2.4224853515625004&amp;size=1&amp;boundary.circle.radius=0.5&amp;layers=topo2,address</p>"},{"location":"visor.es/#priorizacion-de-resultados","title":"Priorizaci\u00f3n de resultados","text":"<p>Si la casilla Priorizar los resultados pr\u00f3ximos al centro del mapa est\u00e1 activada, en la lista de resultados se muestran primero los resultados m\u00e1s pr\u00f3ximos al centro del mapa.</p> <p> </p> <p>El punto central del mapa se indica en los par\u00e1metros focus.point.lat y focus.point.lon. </p> <p>Un ejemplo de petici\u00f3n es  https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;focus.point.lat=41.97952806717199&amp;focus.point.lon=2.8178000450134277&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p> <p></p>"},{"location":"visor.es/#tipo-de-elementos-a-buscar","title":"Tipo de elementos a buscar","text":"<p>Los elementos buscados pertenecen a una de las siguientes capas (indicadas en el par\u00e1metro *layers):</p> <ul> <li> <p>topo1: top\u00f3nimos de poblamiento o agrupaciones de poblaci\u00f3n (nombre de municipio, capital de municipio, entidad de poblaci\u00f3n, diseminado, barrio), mostrando en primer lugar los top\u00f3nimos que son nombre de municipio o capital de municipio. Aparecen en la lista de resultados con el prefijo (poblament).</p> </li> <li> <p>topo2: resto de top\u00f3nimos. Aparecen en la lista de resultados con el prefijo (top\u00f2nim).</p> </li> <li> <p>address: portales. Aparecen en la lista de resultados con el prefijo (portal).</p> </li> </ul>"},{"location":"visor.es/#numero-maximo-de-resultados","title":"N\u00famero m\u00e1ximo de resultados","text":"<p>El par\u00e1metro size se ha asignado a 5, para mostrar como m\u00e1ximo 5 elementos de cada una de las capas.</p>"},{"location":"visor.es/#consulta-del-tipo-de-toponimos","title":"Consulta del tipo de top\u00f3nimos","text":"<p>Al situar el cursor sobre un elemento encontrado de las capas topo1 o topo2, se muestra el tipo de top\u00f3nimo (campo addendum.tipus):</p> <p></p>"},{"location":"visor.es/#descarga","title":"Descarga","text":"<p>Se puede descargar de:  https://github.com/openicgc/leaflet-geocodericgc-plugin </p>"},{"location":"visor.es/#implementacion","title":"Implementaci\u00f3n","text":"<p>Se ha implementado con la librer\u00eda Leaflet, utilizando el plugin leaflet-geocoder-mapzen.</p> <p>Se utiliza el plugin leaflet-geocoder-mapzen https://www.npmjs.com/package/leaflet-geocoder-mapzen, que se ha modificado para gestionar los par\u00e1metros size y focus, el prefijo y tooltip de cada resultado (campo addendum.tipus en caso de los top\u00f3nimos) y el nivel de zoom del mapa (campo addendum.zoom en caso de los top\u00f3nimos)</p> <pre><code>&lt;!-- Cargar codigo Leaflet del cdn --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Cargar plugin Leaflet de geocodificaci\u00f3n mapzen--&gt;\n&lt;script src=\"js/leaflet-geocoder.js\"&gt;&lt;/script&gt;\n\n// Crear el mapa\nvar map = L.map('map', {\n        center: [41.431, 1.8580],\n        zoom: 8,\n        minZoom: 2,\n        maxZoom: 18,\n        scrollWheelZoom: true,\n        zoomControl: false\n      });\n\nvar geocodingOptions = {\n        url: 'https://eines.icgc.cat/geocodificador',\n        expanded: true,\n        autocomplete: true,\n        layers: \"topo1,topo2,address\",\n        size: 5,\n        focus: false,\n        panToPoint: true\n      };\n      geoc\nL.control.geocoder(geocodingOptions).addTo(map);\n</code></pre>"},{"location":"visor.es/#codigo-para-incrustar-el-visor","title":"C\u00f3digo para incrustar el visor","text":"<p>Para insertar el visor en vuestro web, copiar y pegar el texto siguiente: <pre><code>&lt;iframe width=\"100%\" height=\"500\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"https://eines.icgc.cat/geocodificador_visor/\" &gt;&lt;/iframe&gt;\n</code></pre></p>"},{"location":"visor.es/#funcionalidad-pwa","title":"Funcionalidad PWA","text":"<p>El visor Leaflet https://eines.icgc.cat/geocodificador_visor/ es una aplicaci\u00f3n web progresiva (PWA) que presenta la posibilidad de ser descargada e iniciada desde la pantalla principal o el men\u00fa de aplicaciones de cualquier dispositivo con un navegador web.</p> <p>Para instalar la aplicaci\u00f3n, en Chrome:</p> <p>Windows </p> <p></p> <p>Android </p> <p></p>"}]}